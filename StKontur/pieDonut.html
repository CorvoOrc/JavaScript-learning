<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <!--link rel="stylesheet" href="style.css" type="text/css"-->
        <script src="amcharts/amcharts.js" type="text/javascript"></script>
        <script src="amcharts/pie.js" type="text/javascript"></script>
        
        <script type="text/javascript">
			function getRandomInt(min, max)
			{
			  return Math.floor(Math.random() * (max - min + 1)) + min;
			}
			
            var chartPie;

			var total = getRandomInt(100, 330);      // total hours
			var be = getRandomInt(total / 2, total); // in classroom
			var valid = getRandomInt(0, total - be); // valid reason
			
            var chartPieData = [
				{
                    "event": "Уважительная причина",
                    "hours": valid
                },
                {
                    "event": "Прогулено без причины",
                    "hours": total - be - valid
                },
				{
                    "event": "Посещено",
                    "hours": be
                }
            ];
			
            AmCharts.ready(function () {
                // PIE CHART
                chartPie = new AmCharts.AmPieChart();

                // title of the chart
                //chart.addTitle("Attent", 16);

                chartPie.dataProvider = chartPieData;
                chartPie.titleField = "event";
                chartPie.valueField = "hours";
                chartPie.sequencedAnimation = true;
                chartPie.startEffect = "elastic";
                chartPie.innerRadius = "70%";
                chartPie.startDuration = 2;
                chartPie.labelRadius = 0;
                chartPie.balloonText = "[[title]]<br><span style='font-size:14px'><b>[[value]] ч</b></span>";
				
                // WRITE                                 
                chartPie.write("chartpiediv");
            });
        </script>
	</head>
    
    <body>
        <div id="chartpiediv" style="width:600px; height:400px;"></div>
    </body>

</html>